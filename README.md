# star-upcDst

- Description:

star-upcDst, is a new framework mainly developed by Jarda Adam, to simplify analysis that are related to forward and UPC physics. One can use this framework in 2 major steps, or only the 2nd step if the PicoDst files are generated by the 1st step already:

- Step 1: Use MuDst files of one's interest as input, run so-called picoMaker to produce a picoDst file with information that are needed for one's analysis only. 
- Step 2: Use the result of step 1, the picoDst, to build your personal analysis tree or histograms. 


## Step 1:

- Make a clean area on RACF and checkout the repository:

<pre><code> git clone https://github.com/adamjaro/star-upcDst.git </pre></code>

- Go to the main directory star-upcDst:

<pre><code> cd star-upcDst </pre></code>

- Setup the StRoot and build ( already include compiling ) by doing:

<pre><code> ./build-maker.sh </pre></code>

- Next few steps are setting a directory for your input test filelist (below the example is called "test.list", modify the run script for your need, then run it:

<pre><code> mkdir txt </pre></code>
<pre><code> cp [your_filelist] ./txt/test.list </pre></code>

- Modify script "RunFilterMaker.C", there are two major changes for your own interest. 1, Modify the input and output name at the beginning, here the example uses "./txt/test.list" and "test.root", respectively 2, Add/modify trigger IDs around line 51, where the 2nd and 3rd arguments can be left blank for all run numbers. 3, Specify 0,1,2 for "data","starsim MC", or "embedding MC", respectively.

<pre><code> anaMaker->addTriggerId(trigger id, runnumber_start, runnumber_end); </pre></code> 

or

<pre><code> anaMaker->addTriggerId(trigger id); </pre></code>

and 

<pre><code> anaMaker->setIsMC(0); </pre></code>

- Run it to produce the picoDst file

<pre><code> root4star -l RunFilterMaker.C </pre></code>

- The output should be "test.root".  


## Step 2:

- With "test.root", the picoDst file, as the input, one can perform simple analysis or run over all events to save information into a tree or histograms. To do that, one needs to compile the package and setup the link to the library. This can be simply done in a few steps:

Under the main directory (under star-upcDst), create a new directory,

<pre><code> mkdir build </pre></code>
<pre><code> cd build </code></pre>
<pre><code> cmake ../ </code></pre>
<pre><code> make </code></pre>

Done. To use an example to help you, go to folder "examples" and try:

<pre><code> cd ../examples </code></pre>

change the input file to what one just created, "test.root", for macro "make_pT.C". Then do, 

<pre><code> root -l run_make_pT.C </code></pre>







